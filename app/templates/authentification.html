{% extends "base.html" %} {% block title %}Connexion{% endblock %} {% block
content %}
<div
  class="d-flex justify-content-center align-items-center"
  style="min-height: 80vh"
>
  <div class="card shadow-sm p-4" style="max-width: 420px; width: 100%">
    <h4 class="mb-3 text-center">Connexion</h4>

    {# Messages flash #} {% with messages =
    get_flashed_messages(with_categories=true) %} {% if messages %} {% for
    category, msg in messages %}
    <div
      class="alert alert-{{ category if category != 'message' else 'info' }} alert-sm"
      role="alert"
    >
      {{ msg }}
    </div>
    {% endfor %} {% endif %} {% endwith %}

    <form method="post" action="{{ url_for('auth.login') }}">
      {% if form %} {{ form.hidden_tag() }} {% endif %}

      <div class="mb-3">
        {{ form.email.label(class="form-label") }} {{
        form.email(class="form-control", id="email",
        placeholder="vous@exemple.com") }} {% if form.email.errors %}
        <div class="text-danger small mt-1">{{ form.email.errors[0] }}</div>
        {% endif %}
      </div>

      <div class="mb-3">
        {{ form.password.label(class="form-label") }} {{
        form.password(class="form-control", id="password",
        placeholder="••••••••") }} {% if form.password.errors %}
        <div class="text-danger small mt-1">{{ form.password.errors[0] }}</div>
        {% endif %}
      </div>

      <div class="d-flex justify-content-between align-items-center mb-3">
        <div></div>
        <div>
          <a href="{{ url_for('auth.reset_password') }}" class="small"
            >Mot de passe oublié ?</a
          >
        </div>
      </div>

      <div class="d-grid mb-3">{{ form.submit(class="btn btn-primary") }}</div>

      <div class="text-center form-footer small">
        Pas de compte ?
        <a href="{{ url_for('auth.register') }}">S'inscrire</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
